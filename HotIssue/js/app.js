var admob_ios_key="ca-app-pub-3241952602337815/2647907833",admob_android_key="ca-app-pub-3241952602337815/5629360632",admob_wp_key="ca-app-pub-3241952602337815/5601374237",app=angular.module("hotissue",["ionic","hotissue.services","hotissue.controllers","ngTranslate","inapp.util"]);app.config(["$translateProvider",function(t){t.translations("en_EN",{RATE_IT:"Rate It!"}),t.translations("ko_KR",{RATE_IT:"평가하기"}),t.uses("ko_KR")}]),angular.module("hotissue.controllers",[]).controller("HotIssueCtrl",["$scope","$ionicActionSheet","$ionicLoading","$ionicScrollDelegate","SiteService","DownloadService","$ionicPopup","$ionicScrollDelegate","$ionicPlatform","$ionicSlideBoxDelegate","IMUtil",function(t,e,i,r,n,o,a,r,s,l,f){function h(){f.adInterstitial()}function c(){json=window.localStorage.getItem("favorites"),t.favorites=JSON.parse(json),t.favorites?t.favoriteCount=t.favorites.length:(t.favorites=[],t.favoriteCount=0)}function u(t){t.length>20&&t.shift(),window.localStorage.setItem("favorites",JSON.stringify(t))}t.addFavorite=function(e){var i=5==t.slideIndex?"즐겨찾기에서 삭제하시겠습니까 ?":"즐겨찾기에 추가하시겠습니까 ?",r=f.showConfirm("실시간 검색어",i);r.then(function(i){i===!0&&(5==t.slideIndex?(t.favoriteCount--,t.favorites.splice(e,1),l.update(),u(t.favorites)):(t.favoriteCount++,t.favorites.push(t.datas[e]),l.update(),u(t.favorites)))})},document.addEventListener("backbutton",h,!1),s.ready(function(){t.isPhoneGap=f.getPlatformID(),l.update(),f.adBanner(),t.showLoading(),o.download().then(function(e){t.datas=JSON.parse(e).rank,t.sites=n.all(),t.hideLoading()},function(){a.alert({title:"Error",template:"Network problem occurred"}),t.hideLoading()}),c()});var d=["naver","daum","google","nate","zum","favorite","setting"],p=["bar-royal","bar-positive","bar-dark","bar-balanced","bar-energized","bar-calm","bar-stable"];t.slideIndex=0,t.maxIndex=6,t.slideTitle=d[t.slideIndex],t.barType="bar-royal",t.favorites=[],t.favoriteCount=0,t.datas=[],t.Devices=f.Const,t.slidePage=function(e){r.scrollTop(),t.slideTitle=d[e],t.slideIndex=e,t.barType=p[e],t.FavoriteText=5==e?"즐겨찾기":""},t.slideAction=function(){e.show({buttons:[{text:'<img src="img/'+d[0]+'_s.png"/>'},{text:"<img src='img/"+d[1]+"_s.png'/>"},{text:"<img src='img/"+d[2]+"_s.png'/>"},{text:"<img src='img/"+d[3]+"_s.png'/>"},{text:"<img src='img/"+d[4]+"_s.png'/>"},{text:"<img src='img/"+d[5]+".png'/>"}],cancelText:"취소",cancel:function(){},buttonClicked:function(e){return t.slideTitle=d[e],t.slideIndex=e,t.$broadcast("slideBox.setSlide",e),r.scrollTop(),t.barType=p[e],t.FavoriteText=5==e?"즐겨찾기":"",!0}})},t.isShowLeft=function(){return 0!=t.slideIndex?1:0},t.isShowRight=function(){return t.slideIndex!=t.maxIndex?1:0},t.slideLeft=function(){r.scrollTop(),t.$broadcast("slideBox.prevSlide")},t.slideRight=function(){r.scrollTop(),t.$broadcast("slideBox.nextSlide")},t.showLoading=function(){f.showLoading("<div class='padding'><i class='icon ion-loading-a'></i></div>읽어오는중 ..")},t.hideLoading=f.hideLoading,t.openBrowser=function(t){f.openBrowser(t)},t.sendEmail=function(){f.sendFeedBack("Feedback from HotIssue : ")},t.settings=function(){if(console.log("### settings"),window.plugins&&window.plugins.Settings){console.log("### settings1111");var t=window.plugins.Settings;t.show(function(){},function(){})}}}]).directive("favorite",["$ionicGesture",function(t){return{restrict:"C",require:"^ngController",link:function(e,i){var r=function(){e.addFavorite(i.attr("data-index"))},n=t.on("hold",r,i);e.$on("$destroy",function(){t.off(n,"hold",r)})}}}]),angular.module("ngTranslate",["ng"]).config(["$provide",function(t){$TranslateProvider=function(){var t,e={};this.translations=function(t,i){if(!t&&!i)return e;if(t&&!i){if(angular.isString(t))return e[t];e=t}else e[t]=i},this.uses=function(i){if(!i)return t;if(!e[i])throw Error("$translateProvider couldn't find translationTable for langKey: '"+i+"'");t=i},this.$get=["$interpolate","$log",function(i,r){return $translate=function(n,o){var a=t?e[t][n]:e[n];return a?i(a)(o):(r.warn("Translation for "+n+" doesn't exist"),n)}}]},t.provider("$translate",$TranslateProvider)}]),angular.module("ngTranslate").directive("translate",["$filter","$interpolate",function(t,e){var i=t("translate");return{restrict:"A",scope:!0,link:function(t,r,n){n.$observe("translate",function(i){t.translationId=angular.equals(i,"")?e(r.text())(t.$parent):i}),n.$observe("values",function(e){t.interpolateParams=e}),t.$watch("translationId + interpolateParams",function(){r.html(i(t.translationId,t.interpolateParams))})}}}]),angular.module("ngTranslate").filter("translate",["$parse","$translate",function(t,e){return function(i,r){return angular.isObject(r)||(r=t(r)()),e(i,r)}}]),angular.module("inapp.util",[]).factory("IMUtil",["$ionicLoading","$ionicPopup",function(t,e){function i(){switch(d){case p.ID_ANDROID:return admob_android_key;case p.ID_IOS:return admob_ios_key;case p.ID_WP:return admob_wp_key;case p.ID_FFOS:}return""}function r(){if(window.plugins&&window.plugins.AdMob){var t=i(),e=window.plugins.AdMob;e.createBannerView({publisherId:t,adSize:e.AD_SIZE.SMART_BANNER,bannerAtTop:!1},function(){e.requestAd({isTesting:!1},function(){e.showAd(!0)},function(){})},function(){})}}function n(){if(window.plugins&&window.plugins.AdMob){var t=i(),e=window.plugins.AdMob;e.createInterstitialView({publisherId:t},function(){e.requestInterstitialAd({isTesting:!1},function(){e.showAd(!0)},function(){alert("failed to request ad")})},function(){alert("failed to create banner view")})}}function o(t,i){var r=e.confirm({title:t,template:i});return r}function a(){if("undefined"!=typeof device)switch(device.platform){case"Android":return d=p.ID_ANDROID,p.ID_ANDROID;case"iOS":return d=p.ID_IOS,p.ID_IOS;case"WinCE":case"Win32NT":return d=p.ID_WP,p.ID_WP}return d=p.ID_WEB,p.ID_WEB}function s(t){d===p.ID_WEB?window.open(t):window.open(t,"_system")}function l(t){var e,i,r,n,o,a;for(e="",r=t.length,i=0;r>i;)switch(n=t[i++],n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:o=t[i++],e+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=t[i++],a=t[i++],e+=String.fromCharCode((15&n)<<12|(63&o)<<6|(63&a)<<0)}return e}function f(t){for(var e=new Uint8Array(t.length),i=0,r=t.length;r>i;++i)e[i]=t.charCodeAt(i);return e}function h(t){window.plugin&&window.plugin.email?window.plugin.email.isServiceAvailable(function(e){e?window.plugin.email.open({to:["imapp.help@gmail.com"],subject:"Hybrid Feedback",body:t}):s("mailto:imapp.help@gmail.com")}):s("mailto:imapp.help@gmail.com")}function c(e){t.show({content:e,animation:"fade-in",showBackdrop:!0,maxWidth:300,showDelay:500})}function u(){t.hide()}var d,p={ID_WEB:0,ID_ANDROID:1,ID_IOS:2,ID_WP:3,ID_FFOS:4};return{Const:p,adBanner:r,openBrowser:s,getPlatformID:a,showConfirm:o,adInterstitial:n,adBanner:r,ab2str:l,str2ab:f,sendFeedBack:h,showLoading:c,hideLoading:u}}]),function(){"use strict";function t(t,e){var i=t.split("."),r=s;!(i[0]in r)&&r.execScript&&r.execScript("var "+i[0]);for(var n;i.length&&(n=i.shift());)i.length||void 0===e?r=r[n]?r[n]:r[n]={}:r[n]=e}function e(t){var e,i,r,n,o,a,s,f,h,c,u=t.length,d=0,p=Number.POSITIVE_INFINITY;for(f=0;u>f;++f)t[f]>d&&(d=t[f]),t[f]<p&&(p=t[f]);for(e=1<<d,i=new(l?Uint32Array:Array)(e),r=1,n=0,o=2;d>=r;){for(f=0;u>f;++f)if(t[f]===r){for(a=0,s=n,h=0;r>h;++h)a=a<<1|1&s,s>>=1;for(c=r<<16|f,h=a;e>h;h+=o)i[h]=c;++n}++r,n<<=1,o<<=1}return[i,d,p]}function i(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=l?new Uint8Array(t):t,this.m=!1,this.i=h,this.s=!1,(e||!(e={}))&&(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.s=e.resize)),this.i){case f:this.b=32768,this.c=new(l?Uint8Array:Array)(32768+this.h+258);break;case h:this.b=0,this.c=new(l?Uint8Array:Array)(this.h),this.e=this.A,this.n=this.w,this.j=this.z;break;default:throw Error("invalid inflate mode")}}function r(t,e){for(var i,r=t.f,n=t.d,o=t.input,a=t.a,s=o.length;e>n;){if(a>=s)throw Error("input buffer is broken");r|=o[a++]<<n,n+=8}return i=r&(1<<e)-1,t.f=r>>>e,t.d=n-e,t.a=a,i}function n(t,e){for(var i,r,n=t.f,o=t.d,a=t.input,s=t.a,l=a.length,f=e[0],h=e[1];h>o&&!(s>=l);)n|=a[s++]<<o,o+=8;return i=f[n&(1<<h)-1],r=i>>>16,t.f=n>>r,t.d=o-r,t.a=s,65535&i}function o(t){function i(t,e,i){var o,a,s,l=this.q;for(s=0;t>s;)switch(o=n(this,e)){case 16:for(a=3+r(this,2);a--;)i[s++]=l;break;case 17:for(a=3+r(this,3);a--;)i[s++]=0;l=0;break;case 18:for(a=11+r(this,7);a--;)i[s++]=0;l=0;break;default:l=i[s++]=o}return this.q=l,i}var o,a,s,f,h=r(t,5)+257,c=r(t,5)+1,u=r(t,4)+4,d=new(l?Uint8Array:Array)(g.length);for(f=0;u>f;++f)d[g[f]]=r(t,3);if(!l)for(f=u,u=d.length;u>f;++f)d[g[f]]=0;o=e(d),a=new(l?Uint8Array:Array)(h),s=new(l?Uint8Array:Array)(c),t.q=0,t.j(e(i.call(t,h,o,a)),e(i.call(t,c,o,s)))}function a(t,e){var r,n;switch(this.input=t,this.a=0,(e||!(e={}))&&(e.index&&(this.a=e.index),e.verify&&(this.B=e.verify)),r=t[this.a++],n=t[this.a++],15&r){case E:this.method=E;break;default:throw Error("unsupported compression method")}if(0!==((r<<8)+n)%31)throw Error("invalid fcheck flag:"+((r<<8)+n)%31);if(32&n)throw Error("fdict flag is not supported");this.r=new i(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}var s=this,l="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView,f=0,h=1,c={u:f,t:h};i.prototype.k=function(){for(;!this.m;){var t=r(this,3);switch(1&t&&(this.m=!0),t>>>=1){case 0:var e=this.input,i=this.a,n=this.c,a=this.b,s=e.length,c=void 0,u=void 0,d=n.length,p=void 0;if(this.d=this.f=0,i+1>=s)throw Error("invalid uncompressed block header: LEN");if(c=e[i++]|e[i++]<<8,i+1>=s)throw Error("invalid uncompressed block header: NLEN");if(u=e[i++]|e[i++]<<8,c===~u)throw Error("invalid uncompressed block header: length verify");if(i+c>e.length)throw Error("input buffer is broken");switch(this.i){case f:for(;a+c>n.length;){if(p=d-a,c-=p,l)n.set(e.subarray(i,i+p),a),a+=p,i+=p;else for(;p--;)n[a++]=e[i++];this.b=a,n=this.e(),a=this.b}break;case h:for(;a+c>n.length;)n=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(l)n.set(e.subarray(i,i+c),a),a+=c,i+=c;else for(;c--;)n[a++]=e[i++];this.a=i,this.b=a,this.c=n;break;case 1:this.j(D,$);break;case 2:o(this);break;default:throw Error("unknown BTYPE: "+t)}}return this.n()};var u,d,p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g=l?new Uint16Array(p):p,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],v=l?new Uint16Array(b):b,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],y=l?new Uint8Array(w):w,m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],I=l?new Uint16Array(m):m,A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=l?new Uint8Array(A):A,S=new(l?Uint8Array:Array)(288);for(u=0,d=S.length;d>u;++u)S[u]=143>=u?8:255>=u?9:279>=u?7:8;var _,T,D=e(S),x=new(l?Uint8Array:Array)(30);for(_=0,T=x.length;T>_;++_)x[_]=5;var $=e(x);i.prototype.j=function(t,e){var i=this.c,o=this.b;this.o=t;for(var a,s,l,f,h=i.length-258;256!==(a=n(this,t));)if(256>a)o>=h&&(this.b=o,i=this.e(),o=this.b),i[o++]=a;else for(s=a-257,f=v[s],0<y[s]&&(f+=r(this,y[s])),a=n(this,e),l=I[a],0<k[a]&&(l+=r(this,k[a])),o>=h&&(this.b=o,i=this.e(),o=this.b);f--;)i[o]=i[o++-l];for(;8<=this.d;)this.d-=8,this.a--;this.b=o},i.prototype.z=function(t,e){var i=this.c,o=this.b;this.o=t;for(var a,s,l,f,h=i.length;256!==(a=n(this,t));)if(256>a)o>=h&&(i=this.e(),h=i.length),i[o++]=a;else for(s=a-257,f=v[s],0<y[s]&&(f+=r(this,y[s])),a=n(this,e),l=I[a],0<k[a]&&(l+=r(this,k[a])),o+f>h&&(i=this.e(),h=i.length);f--;)i[o]=i[o++-l];for(;8<=this.d;)this.d-=8,this.a--;this.b=o},i.prototype.e=function(){var t,e,i=new(l?Uint8Array:Array)(this.b-32768),r=this.b-32768,n=this.c;if(l)i.set(n.subarray(32768,i.length));else for(t=0,e=i.length;e>t;++t)i[t]=n[t+32768];if(this.g.push(i),this.l+=i.length,l)n.set(n.subarray(r,r+32768));else for(t=0;32768>t;++t)n[t]=n[r+t];return this.b=32768,n},i.prototype.A=function(t){var e,i,r,n,o=this.input.length/this.a+1|0,a=this.input,s=this.c;return t&&("number"==typeof t.p&&(o=t.p),"number"==typeof t.v&&(o+=t.v)),2>o?(i=(a.length-this.a)/this.o[2],n=258*(i/2)|0,r=n<s.length?s.length+n:s.length<<1):r=s.length*o,l?(e=new Uint8Array(r),e.set(s)):e=s,this.c=e},i.prototype.n=function(){var t,e,i,r,n,o=0,a=this.c,s=this.g,f=new(l?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return l?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,i=s.length;i>e;++e)for(t=s[e],r=0,n=t.length;n>r;++r)f[o++]=t[r];for(e=32768,i=this.b;i>e;++e)f[o++]=a[e];return this.g=[],this.buffer=f},i.prototype.w=function(){var t,e=this.b;return l?this.s?(t=new Uint8Array(e),t.set(this.c.subarray(0,e))):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},a.prototype.k=function(){var t,e,i=this.input;if(t=this.r.k(),this.a=this.r.a,this.B){e=(i[this.a++]<<24|i[this.a++]<<16|i[this.a++]<<8|i[this.a++])>>>0;var r=t;if("string"==typeof r){var n,o,a=r.split("");for(n=0,o=a.length;o>n;n++)a[n]=(255&a[n].charCodeAt(0))>>>0;r=a}for(var s,l=1,f=0,h=r.length,c=0;h>0;){s=h>1024?1024:h,h-=s;do l+=r[c++],f+=l;while(--s);l%=65521,f%=65521}if(e!==(f<<16|l)>>>0)throw Error("invalid adler-32 checksum")}return t};var E=8;t("Zlib.Inflate",a),t("Zlib.Inflate.prototype.decompress",a.prototype.k);var U,B,C,P,O={ADAPTIVE:c.t,BLOCK:c.u};if(Object.keys)U=Object.keys(O);else for(B in U=[],C=0,O)U[C++]=B;for(C=0,P=U.length;P>C;++C)B=U[C],t("Zlib.Inflate.BufferType."+B,O[B])}.call(this),angular.module("hotissue.services",[]).factory("DownloadService",["$q","$http","IMUtil",function(t,e,i){function r(){{var r=t.defer();e.get(encodeURI("http://hotissue.imapp.kr/get.dat"),{responseType:"arraybuffer"}).success(function(t){try{var e=new Uint8Array(t),n=new Zlib.Inflate(e),o=n.decompress();r.resolve(i.ab2str(o))}catch(a){r.reject("error")}}).error(function(){r.reject("error")})}return r.promise}return{download:r}}]).factory("SiteService",function(){function t(){return["naver","daum","google","nate","zum"]}return{all:t}});