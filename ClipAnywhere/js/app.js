angular.module("starter",["ionic","starter.controllers","starter.services"]).run(["$ionicPlatform",function(e){e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault()})}]),angular.module("starter.controllers",[]).controller("ListCtrl",["$scope","$ionicLoading","$ionicPopup","ClipService","$ionicActionSheet","$ionicPlatform","$sce",function(e,t,o,n,r,c){function a(){if(window.plugins&&window.plugins.AdMob){var e="ca-app-pub-3241952602337815/9930829037",t="ca-app-pub-3241952602337815/5472106633",o=navigator.userAgent.indexOf("Android")>=0?t:e,n=window.plugins.AdMob;n.createBannerView({publisherId:o,adSize:n.AD_SIZE.SMART_BANNER,bannerAtTop:!1},function(){n.requestAd({isTesting:!1},function(){n.showAd(!0)},function(){})},function(){})}}function s(){e.clip.key="",key=window.localStorage.getItem("key"),key&&""!=key?e.clip.key=parseInt(key):(e.clip.key=Math.floor(89999*Math.random()+1e4),window.localStorage.setItem("key",e.clip.key))}function l(){json=window.localStorage.getItem("values"),e.items=JSON.parse(json),e.items||(e.items=[])}function u(e){e.length>5&&e.shift(),window.localStorage.setItem("values",JSON.stringify(e))}function p(e){window.prompt("Copy to clipboard: Ctrl+C, Enter",e)}e.isPhoneGap="file:"==document.location.protocol,c.ready(function(){a()}),e.clip={},e.send={},l(),s(),e.openBrowser=function(t){e.isPhoneGap?window.open(t,"_system"):window.location.href=t},e.Send=function(){window.localStorage.setItem("key",e.clip.key.toString()),t.show({template:"Posting..."}),n.send(e.clip.key,e.send.value).success(function(){t.hide(),t.show({template:"Successfully posted!",duration:2e3})}).error(function(){o.alert({title:"Error",template:"Network problem occurred"}),t.hide()})},e.Receive=function(){window.localStorage.setItem("key",e.clip.key.toString()),t.show({template:"Loading..."}),n.receive(e.clip.key).success(function(n){if(null==n.v)o.alert({title:"Error",template:"Data not found"});else{exist=!1;for(i in e.items)if(e.items[i].k==e.clip.key){e.items[i].v=n.v,exist=!0;break}exist||e.items.push(n),u(e.items)}t.hide()}).error(function(){o.alert({title:"Error",template:"Network problem occurred"}),t.hide()})},e.Delete=function(t,o){e.items.forEach(function(){}),e.items=e.items.filter(function(e){return e.k!=o.k}),u(e.items),e.items.forEach(function(){})},e.Action=function(o){r.show({buttons:[{text:"Copy to clipboard"},{text:"Open browser"},{text:"Google Search"}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(n){switch(n){case 0:e.isPhoneGap?(cordova.plugins.clipboard.copy(o),t.show({template:"Copied to clipboard!",duration:2e3})):p(o);break;case 1:e.openBrowser(o);break;case 2:e.openBrowser("http://www.google.com/search?q="+o)}return!0}})}}]),angular.module("starter.services",[]).factory("ClipService",["$http",function(e){return{send:function(t,o){var n=e.jsonp(encodeURI("http://clip-back.imapp.kr/?f=2&callback=JSON_CALLBACK&k="+t+"&v="+o));return n},receive:function(t){var o=e.jsonp(encodeURI("http://clip-back.imapp.kr/?f=1&callback=JSON_CALLBACK&k="+t));return o}}}]);